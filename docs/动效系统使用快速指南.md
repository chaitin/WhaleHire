# WhaleHire 动效系统快速指南 🎨

## 🚀 快速开始

### 1. 页面级动画

在页面根容器添加 `.page-content` 类:

```tsx
<div className="page-content">
  {/* 页面内容会自动淡入并上滑 */}
</div>
```

### 2. 按钮动效

```tsx
// 主按钮 (hover 缩放 105%, active 缩放 95%)
<Button className="btn-primary">提交</Button>

// 次要按钮 (hover 缩放 102%)
<Button className="btn-secondary">取消</Button>

// 操作按钮 (用于表格操作等小图标按钮)
<Button className="action-btn">
  <Edit className="h-4 w-4" />
</Button>

// 分页按钮
<Button className="pagination-btn">1</Button>
```

### 3. 卡片悬停效果

```tsx
<div className="card-hover rounded-lg border p-6">
  {/* 卡片内容 - 悬停时会上移并增强阴影 */}
</div>
```

### 4. 表格行动画

```tsx
<tr className="table-row-hover">
  <td>姓名</td>
  <td>状态</td>
</tr>
```

### 5. 输入框焦点动画

```tsx
<Input 
  className="input-focus" 
  placeholder="请输入..."
/>
```

---

## 📚 常用动效类一览表

| 动效类 | 用途 | 效果 |
|--------|------|------|
| `.page-content` | 页面容器 | 淡入 + 上滑 |
| `.btn-primary` | 主按钮 | hover 缩放 105% |
| `.btn-secondary` | 次要按钮 | hover 缩放 102% |
| `.action-btn` | 操作按钮 | hover 缩放 110% + 背景高亮 |
| `.pagination-btn` | 分页按钮 | hover 缩放 110% |
| `.card-hover` | 卡片 | hover 阴影增强 + 上移 |
| `.table-row-hover` | 表格行 | hover 背景变化 |
| `.list-item` | 列表项 | hover 右移 + 背景高亮 |
| `.input-focus` | 输入框 | focus 边框高亮 + 光环 |
| `.modal-enter` | 模态框 | 缩放进入 |
| `.modal-overlay` | 遮罩层 | 淡入 |
| `.notification-enter` | 通知 | 从右侧滑入 |
| `.skeleton` | 骨架屏 | 脉冲闪烁 |
| `.skeleton-shimmer` | 骨架屏 | 流光效果 |

---

## 🎯 React Hooks

### 1. 页面进入动画

```tsx
import { usePageAnimation } from '@/hooks/useAnimation';

function MyPage() {
  const isVisible = usePageAnimation();
  
  return (
    <div className={`transition-opacity ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
      {/* 内容 */}
    </div>
  );
}
```

### 2. 列表项交错动画

```tsx
import { useStaggerAnimation } from '@/hooks/useAnimation';

function MyList({ items }) {
  const visibleItems = useStaggerAnimation(items.length, 50);
  
  return (
    <ul>
      {items.map((item, index) => (
        <li
          key={item.id}
          className={`transition-all ${
            visibleItems.includes(index)
              ? 'opacity-100 translate-x-0'
              : 'opacity-0 -translate-x-4'
          }`}
        >
          {item.name}
        </li>
      ))}
    </ul>
  );
}
```

### 3. 数字滚动动画

```tsx
import { useCountAnimation } from '@/hooks/useAnimation';

function Counter({ target }) {
  const count = useCountAnimation(target, 1000);
  
  return <div className="text-4xl font-bold">{count}</div>;
}
```

### 4. 打字机效果

```tsx
import { useTypewriterEffect } from '@/hooks/useAnimation';

function TypewriterText() {
  const { displayedText } = useTypewriterEffect('WhaleHire 招聘平台', 50);
  
  return <h1>{displayedText}</h1>;
}
```

---

## 💡 实用示例

### 统计卡片

```tsx
<div className="grid grid-cols-3 gap-6">
  <div className="rounded-xl border bg-white p-6 shadow-sm card-hover">
    <div className="flex items-center justify-between">
      <div>
        <p className="text-sm font-medium text-gray-600">总用户数</p>
        <p className="text-2xl font-bold text-blue-600 mt-1">1,234</p>
      </div>
      <div className="rounded-lg bg-blue-50 p-3 transition-transform duration-200 hover:scale-110">
        <Users className="h-5 w-5 text-blue-600" />
      </div>
    </div>
  </div>
</div>
```

### 通知提示

```tsx
{showNotification && (
  <Alert className="notification-enter border-green-200 bg-green-50">
    <CheckCircle className="h-4 w-4 text-green-600" />
    <AlertDescription>操作成功！</AlertDescription>
  </Alert>
)}
```

### 模态框

```tsx
{showModal && (
  <>
    <div className="modal-overlay fixed inset-0 bg-black/40" onClick={onClose} />
    <div className="modal-enter fixed inset-0 flex items-center justify-center">
      <div className="bg-white rounded-xl p-6 shadow-xl max-w-md">
        <h3 className="text-lg font-semibold mb-4">标题</h3>
        <p className="text-gray-600 mb-4">内容</p>
        <div className="flex justify-end gap-3">
          <Button className="btn-secondary" onClick={onClose}>取消</Button>
          <Button className="btn-primary" onClick={onConfirm}>确认</Button>
        </div>
      </div>
    </div>
  </>
)}
```

---

## 🎨 自定义动画时长

Tailwind 已扩展以下时长:

- `duration-150` - 150ms (默认快速)
- `duration-200` - 200ms (按钮点击)
- `duration-300` - 300ms (标准过渡)
- `duration-400` - 400ms (中等)
- `duration-500` - 500ms (慢速)
- `duration-600` - 600ms (很慢)

使用示例:

```tsx
<div className="transition-all duration-300 hover:scale-105">
  {/* 自定义 300ms 过渡 */}
</div>
```

---

## ⚡ 性能优化建议

### 1. 优先使用 CSS 动画

CSS 动画性能最好，尽量使用预定义的动效类。

### 2. GPU 加速属性

所有动画都已使用 GPU 加速属性 (`transform`, `opacity`)，避免使用:
- `width`, `height` (会触发重排)
- `top`, `left`, `right`, `bottom` (改用 `transform`)

### 3. 减少动画复杂度

对于低端设备，系统会自动响应 `prefers-reduced-motion` 设置。

---

## 📖 完整文档

- **使用指南**: [ANIMATION_GUIDE.md](./ANIMATION_GUIDE.md) - 500+ 行详细文档
- **实施总结**: [ANIMATION_IMPLEMENTATION.md](./ANIMATION_IMPLEMENTATION.md)

---

## 🔍 调试技巧

### 慢动作播放

在浏览器 DevTools Console 执行:

```javascript
// 将所有动画减慢 3 倍
document.body.style.cssText = `
  * {
    animation-duration: 3s !important;
    transition-duration: 3s !important;
  }
`;
```

### 查看动画边界

```javascript
// 显示所有元素边界
document.body.style.cssText = '* { outline: 1px solid red !important; }';
```

---

## ✨ 最佳实践

1. **保持一致性**: 同类元素使用同一动效类
2. **适度使用**: 不是所有元素都需要动画
3. **性能优先**: 优先使用 CSS 动画，必要时才用 JS
4. **辅助功能**: 确保动画不影响无障碍体验
5. **测试**: 在不同设备和浏览器上测试动效

---

## 🎯 常见场景

| 场景 | 推荐动效类 |
|------|-----------|
| 页面加载 | `.page-content` |
| 提交按钮 | `.btn-primary` |
| 取消按钮 | `.btn-secondary` |
| 表格操作 | `.action-btn` |
| 数据卡片 | `.card-hover` |
| 列表渲染 | `useStaggerAnimation` Hook |
| 成功提示 | `.notification-enter` |
| 确认弹窗 | `.modal-enter` + `.modal-overlay` |
| 加载中 | `.skeleton` 或 `.skeleton-shimmer` |
| 数字展示 | `useCountAnimation` Hook |

---

**享受流畅的交互体验！🚀**

